<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 5 Punto de cambio (AMOC) | Análisis de series temporales: Ausentismo laboral</title>
  <meta name="description" content="Este es un ejemplo aplicado de análisis de series temporales usando la base de datos de ausentismo laboral disponible en UCI" />
  <meta name="generator" content="bookdown 0.43 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 5 Punto de cambio (AMOC) | Análisis de series temporales: Ausentismo laboral" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Este es un ejemplo aplicado de análisis de series temporales usando la base de datos de ausentismo laboral disponible en UCI" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 5 Punto de cambio (AMOC) | Análisis de series temporales: Ausentismo laboral" />
  
  <meta name="twitter:description" content="Este es un ejemplo aplicado de análisis de series temporales usando la base de datos de ausentismo laboral disponible en UCI" />
  

<meta name="author" content="Ricardo Ortiz; Jaime Martinez, Jeisson Rodriguez" />


<meta name="date" content="2025-05-18" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="modelo-arima.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">A Minimal Book Example</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="ausentismo-laboral.html"><a href="ausentismo-laboral.html"><i class="fa fa-check"></i><b>1</b> AUSENTISMO LABORAL</a>
<ul>
<li class="chapter" data-level="1.1" data-path="ausentismo-laboral.html"><a href="ausentismo-laboral.html#introducción"><i class="fa fa-check"></i><b>1.1</b> Introducción</a></li>
<li class="chapter" data-level="1.2" data-path="ausentismo-laboral.html"><a href="ausentismo-laboral.html#finalidad-del-estudio"><i class="fa fa-check"></i><b>1.2</b> Finalidad del estudio</a></li>
<li class="chapter" data-level="1.3" data-path="ausentismo-laboral.html"><a href="ausentismo-laboral.html#diseño-del-estudio"><i class="fa fa-check"></i><b>1.3</b> Diseño del estudio</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="análisis-de-los-datos.html"><a href="análisis-de-los-datos.html"><i class="fa fa-check"></i><b>2</b> Análisis de los datos</a>
<ul>
<li class="chapter" data-level="2.1" data-path="análisis-de-los-datos.html"><a href="análisis-de-los-datos.html#media-movil"><i class="fa fa-check"></i><b>2.1</b> Media Movil</a></li>
<li class="chapter" data-level="2.2" data-path="análisis-de-los-datos.html"><a href="análisis-de-los-datos.html#rezagos"><i class="fa fa-check"></i><b>2.2</b> Rezagos</a></li>
<li class="chapter" data-level="2.3" data-path="análisis-de-los-datos.html"><a href="análisis-de-los-datos.html#análísis-de-estacionalidad"><i class="fa fa-check"></i><b>2.3</b> Análísis de estacionalidad</a></li>
<li class="chapter" data-level="2.4" data-path="análisis-de-los-datos.html"><a href="análisis-de-los-datos.html#descomposición-de-la-serie-temporal"><i class="fa fa-check"></i><b>2.4</b> Descomposición de la serie temporal</a></li>
<li class="chapter" data-level="2.5" data-path="análisis-de-los-datos.html"><a href="análisis-de-los-datos.html#estacionariedad"><i class="fa fa-check"></i><b>2.5</b> Estacionariedad</a></li>
<li class="chapter" data-level="2.6" data-path="análisis-de-los-datos.html"><a href="análisis-de-los-datos.html#diferenciación"><i class="fa fa-check"></i><b>2.6</b> Diferenciación</a></li>
<li class="chapter" data-level="2.7" data-path="análisis-de-los-datos.html"><a href="análisis-de-los-datos.html#conclusión"><i class="fa fa-check"></i><b>2.7</b> Conclusión</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="predicciones.html"><a href="predicciones.html"><i class="fa fa-check"></i><b>3</b> Predicciones</a>
<ul>
<li class="chapter" data-level="3.1" data-path="predicciones.html"><a href="predicciones.html#método-holt-winters"><i class="fa fa-check"></i><b>3.1</b> Método Holt-Winters</a></li>
<li class="chapter" data-level="3.2" data-path="predicciones.html"><a href="predicciones.html#predicción-próximos-7-días"><i class="fa fa-check"></i><b>3.2</b> Predicción próximos 7 días</a></li>
<li class="chapter" data-level="3.3" data-path="predicciones.html"><a href="predicciones.html#conclusión-aplicacion-metodología-holt-winters"><i class="fa fa-check"></i><b>3.3</b> Conclusión aplicacion metodología Holt-Winters</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="modelo-arima.html"><a href="modelo-arima.html"><i class="fa fa-check"></i><b>4</b> Modelo ARIMA</a>
<ul>
<li class="chapter" data-level="4.1" data-path="modelo-arima.html"><a href="modelo-arima.html#generación-del-modelo"><i class="fa fa-check"></i><b>4.1</b> Generación del modelo</a></li>
<li class="chapter" data-level="4.2" data-path="modelo-arima.html"><a href="modelo-arima.html#análisis-de-los-residuos"><i class="fa fa-check"></i><b>4.2</b> Análisis de los residuos</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="punto-de-cambio-amoc.html"><a href="punto-de-cambio-amoc.html"><i class="fa fa-check"></i><b>5</b> Punto de cambio (AMOC)</a>
<ul>
<li class="chapter" data-level="5.1" data-path="punto-de-cambio-amoc.html"><a href="punto-de-cambio-amoc.html#predicción"><i class="fa fa-check"></i><b>5.1</b> Predicción</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Análisis de series temporales: Ausentismo laboral</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="punto-de-cambio-amoc" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">Capítulo 5</span> Punto de cambio (AMOC)<a href="punto-de-cambio-amoc.html#punto-de-cambio-amoc" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>A continuación se usa la función cpt.mean() del paquete changepoint en R, específicamente con el método “AMOC” (At Most One Change), para detectar cambios en la media de una serie temporal.</p>
<div class="sourceCode" id="cb43"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb43-1"><a href="punto-de-cambio-amoc.html#cb43-1" tabindex="-1"></a>mval<span class="ot">&lt;-</span><span class="fu">cpt.mean</span>(ts_diaria,<span class="at">method =</span> <span class="st">&quot;AMOC&quot;</span>) </span>
<span id="cb43-2"><a href="punto-de-cambio-amoc.html#cb43-2" tabindex="-1"></a><span class="fu">cpts</span>(mval)</span></code></pre></div>
<pre><code>## [1] 63</code></pre>
<p>El resultado muestra que la serie ts_diaria tiene una ruptura (cambio estructural) en el valor medio en el dato número 63. Esto sugiere que antes y después de ese punto, los valores de la serie tienen medias significativamente diferentes. El método “AMOC” busca una única ruptura (At Most One Change), y detectó que la mejor ubicación para dividir la serie en dos segmentos con medias distintas es en el punto 63. A continuación se gráfica el resultado para ver el punto de ruptura.</p>
<div class="sourceCode" id="cb45"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb45-1"><a href="punto-de-cambio-amoc.html#cb45-1" tabindex="-1"></a><span class="fu">plot</span>(mval, <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">cpt.col =</span> <span class="st">&quot;blue&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Value&quot;</span>, <span class="at">cpt.width =</span> <span class="dv">4</span>, <span class="at">main =</span> <span class="st">&quot;default penalty&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-28-1.png" width="672" />
La gráfica muestra la serie con una línea vertical en el punto donde ocurre el cambio, y líneas horizontales indicando las medias antes y después. En este caso el valor 63 de la serie corresponde a la fecha: 2007-03-04, indicando un cambio significatoco en este día. Esta información puede ayudar a decidir si necesitas transformar o dividir la serie antes de ajustar un modelo ARIMA.</p>
<div id="predicción" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Predicción<a href="punto-de-cambio-amoc.html#predicción" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Estos son los datos de ausentismo laboral proyectados para los siguientes 12 días utilizando el paquete forecast para la serie diaria.</p>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="punto-de-cambio-amoc.html#cb46-1" tabindex="-1"></a>pred<span class="ot">&lt;-</span><span class="fu">forecast</span>(ts_diaria,<span class="at">h=</span><span class="dv">12</span>)</span>
<span id="cb46-2"><a href="punto-de-cambio-amoc.html#cb46-2" tabindex="-1"></a>pred</span></code></pre></div>
<pre><code>##          Point Forecast        Lo 80    Hi 80     Lo 95    Hi 95
## 53.14286      24.809061  -4.67089562 54.28902 -20.27664 69.89476
## 53.28571      21.308872  -8.17108486 50.78883 -23.77683 66.39458
## 53.42857      10.533910 -18.94604760 40.01387 -34.55179 55.61961
## 53.57143      13.827451 -15.65250608 43.30741 -31.25825 58.91316
## 53.71429      -1.257420 -30.73737741 28.22254 -46.34312 43.82828
## 53.85714      -1.495569 -30.97552647 27.98439 -46.58127 43.59014
## 54.00000      29.431127  -0.04883144 58.91109 -15.65458 74.51683
## 54.14286      24.809061  -4.67089710 54.28902 -20.27664 69.89477
## 54.28571      21.308872  -8.17108633 50.78883 -23.77683 66.39458
## 54.42857      10.533910 -18.94604908 40.01387 -34.55180 55.61962
## 54.57143      13.827451 -15.65250755 43.30741 -31.25826 58.91316
## 54.71429      -1.257420 -30.73737889 28.22254 -46.34313 43.82829</code></pre>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="punto-de-cambio-amoc.html#cb48-1" tabindex="-1"></a><span class="fu">plot</span>(pred, <span class="at">main=</span><span class="st">&quot; &quot;</span>, <span class="at">ylab=</span><span class="st">&quot;Horas&quot;</span>, <span class="at">col=</span><span class="st">&quot;deepskyblue&quot;</span>, <span class="at">xlab=</span><span class="st">&quot;Días&quot;</span>)</span>
<span id="cb48-2"><a href="punto-de-cambio-amoc.html#cb48-2" tabindex="-1"></a><span class="fu">title</span>(<span class="at">main=</span><span class="st">&quot;Predicción de Ausentismo laboral&quot;</span>)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-30-1.png" width="672" />
En esta grafica se especificar el horizonte de pronóstico de h periodos por delante para que se realicen las predicciones de ausentismo laboral. En este caso correspondiente a 12 días. En una análisis visual inicial, la predicción parace guardar concordancia con el pronóstico del resto de la serie.</p>
<p>A continuación se hace un análisis de los valores atípicos en la serie</p>
<p>La función tso() busca outliers que afecten la estructura de la serie, especialmente aquellos que pueden influir negativamente en el ajuste de modelos ARIMA. Identifica:</p>
<ul>
<li>AO = Additive Outlier: un valor atípico puntual.</li>
<li>LS = Level Shift: un cambio repentino y permanente en el nivel de la serie.</li>
<li>TC = Temporary Change: un cambio brusco pero transitorio.</li>
</ul>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="punto-de-cambio-amoc.html#cb49-1" tabindex="-1"></a>dat.ts<span class="ot">&lt;-</span> <span class="fu">ts</span>(ts_diaria,<span class="at">frequency=</span><span class="dv">1</span>) </span>
<span id="cb49-2"><a href="punto-de-cambio-amoc.html#cb49-2" tabindex="-1"></a>data.ts.outliers <span class="ot">&lt;-</span> <span class="fu">tso</span>(dat.ts)</span></code></pre></div>
<pre><code>## Warning in locate.outliers.iloop(resid = resid, pars = pars, cval = cval, :
## stopped when &#39;maxit.iloop&#39; was reached
## Warning in locate.outliers.iloop(resid = resid, pars = pars, cval = cval, :
## stopped when &#39;maxit.iloop&#39; was reached</code></pre>
<pre><code>## Warning in locate.outliers.oloop(y = y, fit = fit, types = types, cval = cval,
## : stopped when &#39;maxit.oloop = 4&#39; was reached</code></pre>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="punto-de-cambio-amoc.html#cb52-1" tabindex="-1"></a><span class="fu">plot</span>(data.ts.outliers)</span></code></pre></div>
<p><img src="bookdown-demo_files/figure-html/unnamed-chunk-31-1.png" width="672" />
En el gráfico se observa:</p>
<ul>
<li><em>Línea gris</em>: serie original (ts_diaria), sin ajuste.</li>
<li><em>Línea azul</em>: serie ajustada tras identificar y corregir los outliers.</li>
<li><em>Puntos rojos</em>: valores atípicos detectados (tipos como AO, LS o TC).</li>
</ul>
<p>En general se observa que hay múltiples picos atípicos detectados a lo largo de la serie, donde los puntos rojos indican que en esos días hubo valores que no siguen el comportamiento esperado por el modelo ARIMA. Estos valores han sido ajustados en la línea azul, suavizando la serie. Esto indica que la serie contiene eventos que podrían ser anómalos, errores de registro, o situaciones excepcionales (como ausencias masivas, festivos especiales, etc.).</p>
<p>En el gráfico inferior se observa que varios outliers tienen efectos importantes y persistentes (altas barras).Esos valores distorsionan la dinámica general de la serie y deben considerarse al ajustar o interpretar un modelo de predicción.</p>

<p>.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="modelo-arima.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
  "sharing": {
    "github": false,
    "facebook": true,
    "twitter": true,
    "linkedin": false,
    "weibo": false,
    "instapaper": false,
    "vk": false,
    "whatsapp": false,
    "all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
  },
  "fontsettings": {
    "theme": "white",
    "family": "sans",
    "size": 2
  },
  "edit": {
    "link": "https://github.com/rstudio/bookdown-demo/edit/master/04-application.Rmd",
    "text": "Edit"
  },
  "history": {
    "link": null,
    "text": null
  },
  "view": {
    "link": null,
    "text": null
  },
  "download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
  "search": {
    "engine": "fuse",
    "options": null
  },
  "toc": {
    "collapse": "subsection"
  }
});
});
</script>

</body>

</html>
